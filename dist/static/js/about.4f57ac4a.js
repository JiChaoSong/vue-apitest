(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"24d2":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return r}));var i=a("b775");function l(e){return Object(i["a"])({url:"/project/",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/project/",method:"post",data:e})}function n(e,t){return Object(i["a"])({url:"/project/"+e+"/",method:"put",data:t})}function r(e){return Object(i["a"])({url:"/project/"+e+"/",method:"delete"})}},"2afd":function(e,t,a){"use strict";var i=a("9585"),l=a.n(i);l.a},"43fb":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-remove":e.removeTab},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},e._l(e.editableTabs,(function(t){return a("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name,closable:t.closable}},["1"===t.name?a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:"",model:e.listQuery}},[a("el-form-item",{attrs:{label:"接口名称",prop:"apiName"}},[a("el-input",{attrs:{size:"small"},model:{value:e.listQuery.apiNames,callback:function(t){e.$set(e.listQuery,"apiNames",t)},expression:"listQuery.apiNames"}})],1),a("el-form-item",{attrs:{label:"接口地址",prop:"apiPath"}},[a("el-input",{attrs:{size:"small"},model:{value:e.listQuery.apiPaths,callback:function(t){e.$set(e.listQuery,"apiPaths",t)},expression:"listQuery.apiPaths"}})],1),a("el-form-item",{attrs:{label:"请求方法",prop:"apiMethod"}},[a("el-select",{attrs:{size:"small"},model:{value:e.listQuery.apiMethods,callback:function(t){e.$set(e.listQuery,"apiMethods",t)},expression:"listQuery.apiMethods"}},e._l(e.Methods,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.fetchData}},[e._v("查询")]),a("el-button",{attrs:{size:"small"},on:{click:e.resetListQuery}},[e._v("重置")])],1)],1)],1):e._e(),"1"===t.name?a("div",{staticClass:"operation-container"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.addTab(e.editableTabsValue)}}},[e._v("新增")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.handleImport}},[e._v("导入")])],1):e._e(),"1"===t.name?a("Apilist",{attrs:{list:e.list,total:e.total,"list-loading":e.listLoading,"list-query":e.listQuery,"fetch-data":e.fetchData,"add-tab":e.editTab},on:{getdata:e.getapirequest}}):a("Apiadd",{attrs:{apirequest:e.apirequest,dialogtitle:e.dialogtitle}})],1)})),1),a("el-dialog",{attrs:{title:"导入接口",visible:e.dialogvisibleImport,width:"800px"},on:{"update:visible":function(t){e.dialogvisibleImport=t}}},[a("el-form",{ref:"apiImport",attrs:{model:e.apiImport,rules:e.apiImportRule,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"接口文档地址",prop:"url"}},[a("el-input",{staticStyle:{width:"80%"},model:{value:e.apiImport.url,callback:function(t){e.$set(e.apiImport,"url",t)},expression:"apiImport.url"}})],1),a("el-form-item",{attrs:{label:"所属项目",prop:"project"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{disabled:""},model:{value:e.apiImport.project,callback:function(t){e.$set(e.apiImport,"project",t)},expression:"apiImport.project"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.importApiInfo}},[e._v("提交")]),a("el-button",{on:{click:e.hanlecancel}},[e._v("取消")])],1)],1)],1)],1)},l=[],s=(a("4de4"),a("4160"),a("b0c0"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"apitest-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,stripe:"",size:"small","row-style":{height:"20px"},"cell-style":{padding:"5px"},"header-cell-style":{background:"#FAFAFA"},"max-height":560},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{align:"center",label:"#",width:"65px  ",index:e.indexMethod,type:"index"}}),a("el-table-column",{attrs:{label:"接口名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.apiName)+" ")]}}])}),a("el-table-column",{attrs:{label:"请求方法",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.apiMethod)+" ")]}}])}),a("el-table-column",{attrs:{label:"请求地址",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.apiPath)+" ")]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("formatDate")(t.row.createdTime))+" ")]}}])}),a("el-table-column",{attrs:{label:"更新时间",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("formatDate")(t.row.updatedTime))+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"250px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleUpdate(i)}}},[e._v(" 编辑 ")]),a("el-button",{staticStyle:{color:"#f95359"},attrs:{type:"text"},on:{click:function(t){return e.deleteProject(i)}}},[e._v(" 删除 ")])]}}])})],1),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"sizes,prev, pager, next, total",total:e.total,"page-sizes":[10,20,50,100],"page-size":10},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)}),n=[],r=(a("a9e3"),a("811c")),o={name:"apilist",props:{list:{type:Array,require:!0},total:{type:Number,require:!0},listLoading:{type:Boolean,require:!0,default:!0},listQuery:{type:Object,require:!0},fetchData:{type:Function,require:!0},addTab:{type:Function,require:!0}},data:function(){return{editableTabsValue:"1",dialogvisibleTitle:null,dialogvisibleForm:!1,titleMap:{updated:"编辑产品",created:"创建产品"},projectForm:{id:void 0,projectName:"",projectDesc:""},projectrule:{projectName:[{required:!0,message:"请输入产品名称",trigger:"blur"}]},multipleSelection:[]}},methods:{resetprojectform:function(){this.projectForm={id:void 0,projectName:"",projectDesc:""}},handleUpdate:function(e){this.projectForm=Object.assign({},e),this.addTab(this.editableTabsValue,e),this.$emit("getdata",this.projectForm),this.dialogvisibleTitle="updated",this.dialogvisibleForm=!0},updatedProject:function(){var e=this;this.$refs.ruleform.validate((function(t){if(t){var a=Object.assign({},e.projectForm);Object(r["g"])(a.id,a).then((function(t){e.dialogvisibleForm=!1,e.fetchData(),e.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3})}))}}))},deleteProject:function(e){var t=this;this.$confirm("确定要删除该数据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(a){Object(r["b"])(e.id).then((function(e){t.fetchData(),t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3})}))})).catch((function(e){}))},indexMethod:function(e){return(this.listQuery.page-1)*this.listQuery.size+(e+1)},handleCurrentChange:function(e){this.listQuery.page=e,this.fetchData()},handleSizeChange:function(e){this.listQuery.size=e,this.fetchData()},handlecancel:function(){this.resetprojectform(),this.dialogvisibleForm=!1},handlerowclick:function(e){this.$router.push({name:"System",query:{id:e.id,name:e.projectName}})},handleSelectionChange:function(e){this.multipleSelection=e,console.log(e)}}},c=o,u=(a("2afd"),a("2877")),p=Object(u["a"])(c,s,n,!1,null,"cb2437c2",null),d=p.exports,f=a("7087"),m=a("5f87"),h={name:"apitest",components:{Apiadd:f["a"],Apilist:d},data:function(){return{editableTabsValue:"1",dialogvisibleImport:!1,listQuery:{page:1,size:10,apiNames:null,apiPaths:null,apiMethods:null},list:null,total:0,listLoading:!0,Methods:this.allEnums.requestMethod,editableTabs:[{title:"接口列表",name:"1",closable:!1}],tabIndex:1,apiImport:{url:"",project:Object(m["b"])()},apiImportRule:{url:[{required:!0,message:"请输入接口文档地址",trigger:"blur"}]},apirequest:{apiName:"",apiParams:[{type:103,key:"",value:"",desc:""}],apiHeaders:[{type:103,key:"",value:"",desc:""}],apiBody:[{type:101,key:"",value:"",desc:""}],apiAssert:[{type:101,key:"",value:"",desc:""}],regular:[{type:101,key:"",value:"",desc:""}],apiMethod:"GET",apiPath:"",apiHost:""},dialogtitle:"",titleMap:{create:"新增接口",update:"编辑接口"}}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,Object(r["d"])(this.listQuery).then((function(t){e.list=t.data.results,e.total=t.data.count,e.listLoading=!1}))},addTab:function(e){var t=++this.tabIndex+"";this.dialogtitle="created",this.editableTabs.push({title:"新增接口",name:t,closable:!0,content:"New Tab content"}),this.editableTabsValue=t},editTab:function(e,t){var a=++this.tabIndex+"";this.dialogtitle="updated",this.editableTabs.push({title:t.apiName,name:a,closable:!0,content:"New Tab content"}),this.editableTabsValue=a},resetapiImport:function(){this.apiImport={url:"",project:Object(m["b"])()}},handleImport:function(){var e=this;this.resetapiImport(),this.dialogvisibleImport=!0,this.$nextTick((function(){e.$refs.apiImport.clearValidate()}))},importApiInfo:function(){var e=this;this.$refs.apiImport.validate((function(t){t&&Object(r["c"])(e.apiImport).then((function(t){e.dialogvisibleImport=!1,e.$notify({title:"成功",message:"导入成功",type:"success",duration:2e3})}))}))},hanlecancel:function(){this.resetapiImport(),this.dialogvisibleImport=!1},resetListQuery:function(){this.listQuery={page:1,size:10,apiNames:null,apiPaths:null,apiMethods:null},this.fetchData()},resetApiResquest:function(){this.apirequest={apiName:"",apiParams:[{type:103,key:"",value:"",desc:""}],apiHeaders:[{type:103,key:"",value:"",desc:""}],apiBody:[{type:101,key:"",value:"",desc:""}],apiAssert:[{type:101,key:"",value:"",desc:""}],regular:[{type:101,key:"",value:"",desc:""}],apiMethod:"GET",apiPath:"",apiHost:""}},removeTab:function(e){var t=this.editableTabs;this.resetApiResquest(),this.resetListQuery();var a=this.editableTabsValue;a===e&&t.forEach((function(i,l){if(i.name===e){var s=t[l+1]||t[l-1];s&&(a=s.name)}})),this.editableTabsValue=a,this.editableTabs=t.filter((function(t){return t.name!==e})),location.reload()},getapirequest:function(e){this.apirequest=e}}},b=h,v=(a("4d91"),Object(u["a"])(b,i,l,!1,null,"52dbc241",null));t["default"]=v.exports},"486d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"project-container"},[a("div",{staticClass:"operation-container"}),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",attrs:{data:e.list,stripe:"",size:"small","row-style":{height:"20px"},"cell-style":{padding:"5px"},"row-key":e.getRowKeys},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":!0,align:"center"}}),a("el-table-column",{attrs:{align:"center",label:"#",width:"65px  ",index:e.indexMethod,type:"index"}}),a("el-table-column",{attrs:{label:"用例名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.caseName))]}}])}),a("el-table-column",{attrs:{label:"用例状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e._f("formatStatus")(t.row.caseStatus)}},[e._v(e._s(e._f("showStatus")(t.row.caseStatus)))])]}}])}),a("el-table-column",{attrs:{label:"关联接口",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.apiInfo.apiName)+" ")]}}])}),a("el-table-column",{attrs:{label:"运行次数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.runcount))]}}])}),a("el-table-column",{attrs:{label:"创建人",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.createdUser.username))]}}])}),a("el-table-column",{attrs:{label:"修改人",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.updatedUser.username))]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"250px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("router-link",{staticStyle:{padding:"10px"},attrs:{to:{name:"CaseRecord",query:{id:i.id}}}},[a("el-button",{attrs:{type:"text"}},[e._v("查看")])],1),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleCaseTest(i)}}},[e._v("执行")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleCopyCase(i)}}},[e._v("复制")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleUpdate(i)}}},[e._v("编辑")]),a("el-button",{staticStyle:{color:"#f95359"},attrs:{type:"text"},on:{click:function(t){return e.deleteProject(i)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, total",total:e.total},on:{"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:e.titleMap[e.dialogvisibleTitle],visible:e.dialogvisibleForm,width:"1200px"},on:{"update:visible":function(t){e.dialogvisibleForm=t}}},[a("el-form",{ref:"ruleform",attrs:{model:e.caseData,rules:e.projectrule,"label-position":"top"}},[a("el-form-item",{attrs:{label:"用例名称:",prop:"caseName"}},[a("el-input",{attrs:{placeholder:"请输入用例名称"},model:{value:e.caseData.caseName,callback:function(t){e.$set(e.caseData,"caseName",t)},expression:"caseData.caseName"}})],1),"created"===e.dialogvisibleTitle?a("el-form-item",{attrs:{label:"关联接口:",prop:"interface"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.caseData.interface,callback:function(t){e.$set(e.caseData,"interface",t)},expression:"caseData.interface"}},e._l(e.apiinfolist,(function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.apiName}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"接口路径"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.caseData.apiInfo.apiPath,callback:function(t){e.$set(e.caseData.apiInfo,"apiPath",t)},expression:"caseData.apiInfo.apiPath"}},[a("el-select",{staticClass:"select-method",attrs:{slot:"prepend",disabled:!0},slot:"prepend",model:{value:e.caseData.apiInfo.apiMethod,callback:function(t){e.$set(e.caseData.apiInfo,"apiMethod",t)},expression:"caseData.apiInfo.apiMethod"}},e._l(e.methons,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-form-item",{attrs:{label:"请求参数"}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.caseActiveName,callback:function(t){e.caseActiveName=t},expression:"caseActiveName"}},[a("el-tab-pane",{attrs:{label:"Query参数",name:"first"}},[a("common",{attrs:{"request-data":e.caseData.apiParams}})],1),a("el-tab-pane",{attrs:{label:"请求头",name:"second"}},[a("common",{attrs:{"request-data":e.caseData.apiHeaders,lables:"header"}})],1),a("el-tab-pane",{attrs:{label:"请求体",name:"third"}},[a("common",{attrs:{"request-data":e.caseData.apiBody,lables:"body"}})],1),a("el-tab-pane",{attrs:{label:"参数提取",name:"four"}},[a("extraction",{attrs:{list:e.caseData.paramExtrat}})],1)],1)],1),a("el-form-item",{attrs:{label:"断言"}},[a("div",{staticClass:"assert-style"},[a("div",{staticClass:"radio-style"},[a("el-radio-group",{on:{change:e.handleRadio},model:{value:e.caseData.apiAssert.type,callback:function(t){e.$set(e.caseData.apiAssert,"type",t)},expression:"caseData.apiAssert.type"}},e._l(e.assertype,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)],1),a("div",{staticClass:"select-assert"},[102===e.caseData.apiAssert.type?a("el-form-item",{attrs:{label:"http状态码"}},[a("el-select",{model:{value:e.caseData.apiAssert.httpcode,callback:function(t){e.$set(e.caseData.apiAssert,"httpcode",t)},expression:"caseData.apiAssert.httpcode"}},e._l(e.httpcode,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1):e._e(),103===e.caseData.apiAssert.type?a("el-form-item",{attrs:{label:"响应code"}},[a("el-select",{model:{value:e.caseData.apiAssert.responsecode,callback:function(t){e.$set(e.caseData.apiAssert,"responsecode",t)},expression:"caseData.apiAssert.responsecode"}},e._l(e.respcode,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1):e._e(),104===e.caseData.apiAssert.type?a("el-form-item",{attrs:{label:"匹配的值"}},[a("el-input",{model:{value:e.caseData.apiAssert.fullMatch,callback:function(t){e.$set(e.caseData.apiAssert,"fullMatch",t)},expression:"caseData.apiAssert.fullMatch"}})],1):e._e(),105===e.caseData.apiAssert.type?a("el-form-item",{attrs:{label:"响应时间"}},[a("el-input",{model:{value:e.caseData.apiAssert.responseTime,callback:function(t){e.$set(e.caseData.apiAssert,"responseTime",t)},expression:"caseData.apiAssert.responseTime"}})],1):e._e()],1)])]),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){"created"===e.dialogvisibleTitle?e.createdProject():e.updatedProject()}}},[e._v("保存")]),a("el-button",{on:{click:e.handlecancel}},[e._v("取消")])],1)],1)],1),a("el-dialog",{attrs:{title:"关联接口",visible:e.dialogvisibleRelation,width:"600px"},on:{"update:visible":function(t){e.dialogvisibleRelation=t}}},[a("el-form",{ref:"apiinfoForm",attrs:{"label-width":"100px",rules:e.apiinfoFormRule,model:e.apiinfoForm}},[a("el-form-item",{attrs:{label:"关联接口:",prop:"apiinfoId"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleSelectApi},model:{value:e.apiinfoForm.apiinfoId,callback:function(t){e.$set(e.apiinfoForm,"apiinfoId",t)},expression:"apiinfoForm.apiinfoId"}},e._l(e.apiinfolist,(function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.apiName}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.updateApiinfo}},[e._v("提交")])],1)],1)],1),a("el-dialog",{attrs:{title:"测试报告",visible:e.dialogvisibleReport,width:"1000px"},on:{"update:visible":function(t){e.dialogvisibleReport=t}}},[a("SimpleCase",{attrs:{apicase:e.caseinformation}})],1),a("el-dialog",{attrs:{title:e.dialogtitle,visible:e.dialogvisibleApiInfo,width:"1000px"},on:{"update:visible":function(t){e.dialogvisibleApiInfo=t}}},[a("ApiAdd",{attrs:{apirequest:e.apirequest,dialogtitle:e.dialogtitle}})],1),a("el-dialog",{staticClass:"create-case-dialog",attrs:{title:"复制测试用例",visible:e.dialogvisibleCopy,width:"800px"},on:{"update:visible":function(t){e.dialogvisibleCopy=t}}},[a("el-form",{ref:"caseCopyData",attrs:{model:e.caseCopyData,rules:e.caseDataRule}},[a("el-form-item",{attrs:{label:"用例名称",prop:"caseName"}},[a("el-input",{model:{value:e.caseCopyData.caseName,callback:function(t){e.$set(e.caseCopyData,"caseName",t)},expression:"caseCopyData.caseName"}})],1),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.copyCase}},[e._v("保存")]),a("el-button",{on:{click:e.handlecancelCopy}},[e._v("取消")])],1)],1)],1)],1)},l=[],s=(a("96cf"),a("1da1")),n=a("fa20"),r=a("d4f4"),o=a("811c"),c=a("6c21"),u=a("7087"),p=a("ebad"),d=a("eced"),f={name:"project",inject:["reload"],components:{SimpleCase:c["a"],ApiAdd:u["a"],common:p["a"],extraction:d["a"]},computed:{user:function(){return Object(n["b"])()}},filters:{formatStatus:function(e){var t={101:null,102:"success",103:"danger",104:"warning",105:"info"};return t[e]},showStatus:function(e){var t={101:"unexecuted",102:"pass",103:"fail",104:"block",105:"closed"};return t[e]}},data:function(){return{methons:this.allEnums.requestMethod,assertype:this.allEnums.assertType,httpcode:this.allEnums.httpCode,respcode:this.allEnums.responseCode,caseActiveName:"first",assertActive:101,list:null,listLoading:!0,total:0,listQuery:{page:1,size:10},dialogtitle:null,dialogvisibleApiInfo:!1,apirequest:null,fullscreenLoading:!1,timer:"",dialogvisibleReport:!1,caseinformation:null,success:!1,apiinfolist:null,dialogvisibleRelation:!1,apiinfoForm:{apiinfoId:null},apiinfoFormRule:{apiinfoId:[{required:!0,message:"请选择关联接口",trigger:"blur"}]},dialogvisibleTitle:null,dialogvisibleForm:!1,titleMap:{updated:"编辑用例",created:"创建用例"},caseData:{id:void 0,caseNum:"",caseName:"",caseDesc:"",apiInfo:{apiMethod:null,apiPath:null},apiParams:null,apiHeaders:null,apiBody:null,paramExtrat:null,apiAssert:{type:this.assertActive,httpcode:null,responsecode:null,responseTime:null,fullMatch:null},createdUser:this.user,updatedUser:this.user,interface:null},projectForm:{id:void 0,caseNum:"",caseName:"",caseDesc:"",createdUser:this.user,updatedUser:this.user,interface:null},projectrule:{caseName:[{required:!0,message:"请输入用例名称",trigger:"blur"}]},caserecordId:null,caserecorddetail:null,caseCopyData:{id:void 0,caseNum:"",caseName:""},dialogvisibleCopy:!1,caseDataRule:{caseName:[{required:!0,message:"请输入用例名称",trigger:"blur"}]},valId:null,multipleSelection:[]}},created:function(){this.fetchData()},mounted:function(){this.getCaseinfo(this.caseinformation.id)},methods:{fetchData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.listLoading=!0,Object(r["e"])(e.listQuery).then((function(t){e.list=t.data.results,e.total=t.data.count,e.listLoading=!1}));case 2:case"end":return t.stop()}}),t)})))()},getapiList:function(){var e=this;Object(o["d"])({page:1,size:2147483647}).then((function(t){e.apiinfolist=t.data.results}))},getCaseRecordinfo:function(e){var t=this;if(this.fullscreenLoading=!0,Object(r["d"])(e).then((function(e){t.success=e.data.success,t.caseinformation=e.data})),!this.success){var a=this;this.timer=setTimeout((function(){a.getCaseRecordinfo(e)}),1e3)}this.success&&(this.fullscreenLoading=!1,clearTimeout(this.timer))},getApiInfodetail:function(e){this.apirequest=e.apiInfo,this.dialogtitle=e.apiInfo.apiName,this.dialogvisibleApiInfo=!0},getLastCaseRecotd:function(e){var t=this;Object(r["l"])({caseId:e.id}).then((function(e){t.caseinformation=e.data,t.dialogvisibleReport=!0}))},runSimpleCase:function(e){var t=this;Object(r["g"])({case:e.id}).then((function(e){t.caserecordId=e.data.id,Object(r["m"])({caserecordId:t.caserecordId}).then((function(e){2e4===e.code&&(t.fetchData(),location.reload(),t.$notify({title:"成功",message:"请求成功",type:"success",duration:2e3}))}))}))},lookcaseRecord:function(){var e=this;Object(r["i"])(this.caserecordId).then((function(t){e.caserecorddetail=t.data,e.dialogvisibleReport=!0}))},resetprojectform:function(){this.projectForm={id:void 0,caseNum:"",caseName:"",caseDesc:"",createdUser:this.user,updatedUser:this.user,interface:null}},resetCaeData:function(){this.caseData={id:void 0,caseNum:"",caseName:"",caseDesc:"",apiInfo:{apiMethod:null,apiPath:null},apiParams:null,apiHeaders:null,apiBody:null,paramExtrat:null,apiAssert:{type:this.assertActive,httpcode:null,responsecode:null,responseTime:null,fullMatch:null},createdUser:this.user,updatedUser:this.user,interface:null}},handleRelationApi:function(e){var t=this;this.projectForm=Object.assign({},e),this.apiinfoForm={apiinfoId:this.projectForm.interface},this.dialogvisibleRelation=!0,this.$nextTick((function(){t.$refs.apiinfoForm.clearValidate()}))},updateApiinfo:function(){var e=this;this.$refs.apiinfoForm.validate((function(t){if(t){var a=Object.assign({},e.projectForm);a.interface=e.apiinfoForm.apiinfoId,console.log(a.interface),Object(r["f"])(a.id,a).then((function(t){e.dialogvisibleRelation=!1,e.fetchData(),e.$notify({title:"成功",message:"关联成功",type:"success",duration:2e3})}))}}))},handleSelectApi:function(e){console.log("选择了",e)},handleCreate:function(){var e=this;this.resetCaeData(),this.getapiList(),this.dialogvisibleTitle="created",this.dialogvisibleForm=!0,this.$nextTick((function(){e.$refs.ruleform.clearValidate()}))},createdProject:function(){var e=this;this.$refs.ruleform.validate((function(t){t&&Object(r["a"])(e.caseData).then((function(t){e.dialogvisibleForm=!1,e.fetchData(),e.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3})}))}))},handleUpdate:function(e){var t=this;this.resetprojectform(),this.resetCaeData(),this.caseData=Object.assign({},e),console.log(this.assertActive),this.dialogvisibleTitle="updated",this.dialogvisibleForm=!0,this.$nextTick((function(){t.$refs.ruleform.clearValidate()}))},handleRadio:function(e){this.assertActive=e},updatedProject:function(){var e=this;this.$refs.ruleform.validate((function(t){if(t){var a=Object.assign({},e.caseData);a.apiAssert.type=e.assertActive,a.createdUser=a.createdUser.id,a.updatedUser=e.user,Object(r["f"])(a.id,a).then((function(t){e.dialogvisibleForm=!1,e.fetchData(),e.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3})}))}}))},deleteProject:function(e){var t=this;this.$confirm("确定要删除该数据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(a){Object(r["c"])(e.id).then((function(e){t.fetchData(),t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3})}))})).catch((function(e){}))},indexMethod:function(e){return(this.listQuery.page-1)*this.listQuery.size+(e+1)},handleCurrentChange:function(e){this.listQuery.page=e,this.fetchData()},handlecancel:function(){this.resetprojectform(),this.dialogvisibleForm=!1},handlerowclick:function(e){this.$router.push({name:"System",query:{id:e.id,name:e.projectName}})},handleCaseTest:function(e){var t=this;console.log(e),Object(r["k"])({caseId:e.id}).then((function(e){2e4===e.code&&(t.fetchData(),t.$message({message:e.message,type:"success"}))}))},resetCaseCopy:function(){this.caseCopyData={id:void 0,caseNum:"",caseName:""}},handleCopyCase:function(e){var t=this;this.resetCaseCopy(),this.caseCopyData=Object.assign({},e),this.caseCopyData.caseName="副本-"+e.caseName,this.dialogvisibleCopy=!0,this.$nextTick((function(){t.$refs.caseCopyData.clearValidate()}))},copyCase:function(){var e=this;this.$refs.caseCopyData.validate((function(t){if(t){var a=Object.assign({},e.caseCopyData);Object(r["b"])(a).then((function(t){2e4===t.code&&(e.dialogvisibleCopy=!1,e.fetchData(),e.$notify({title:"成功",message:"复制成功",type:"success",duration:2e3}))}))}}))},handlecancelCopy:function(){this.resetCaseCopy(),this.dialogvisibleCopy=!1},getRowKeys:function(e){return e.id},handleSelectionChange:function(e){this.multipleSelection=e,console.log(this.multipleSelection)},clearSelect:function(){this.$refs.multipleTable.clearSelection()},handleMutCaseRun:function(){0===this.multipleSelection.length&&this.$message.error("请选择用例")}}},m=f,h=(a("df4e"),a("2877")),b=Object(h["a"])(m,i,l,!1,null,"d83b5b8a",null);t["default"]=b.exports},"4d91":function(e,t,a){"use strict";var i=a("a7a5"),l=a.n(i);l.a},6963:function(e,t,a){},"6c21":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("h2",{staticClass:"report_title"},[e._v("*"+e._s(e.apicase.case.caseName)+"*")]),a("h1",{staticClass:"report_title"},[e._v("测试用例报告单")]),a("div",{staticClass:"info_table"},[a("div",{staticClass:"result_table_title"},[e._v("用例信息")]),a("div",{staticClass:"table-box info-table"},[a("table",{attrs:{cellpadding:0,cellspacing:0}},[a("tr",[a("td",[a("el-row",{attrs:{gutter:1}},[a("el-col",{attrs:{span:e.col1}},[e._v("用例名称")]),a("el-col",{attrs:{span:e.col2}},[e._v(e._s(e.apicase.case.caseName))])],1)],1),a("td",{attrs:{rowspan:"3"}})]),a("tr",[a("td",[a("el-row",{attrs:{gutter:1}},[a("el-col",{attrs:{span:e.col1}},[e._v("开始时间")]),a("el-col",{attrs:{span:e.col2}},[e._v(e._s(e._f("formatDate")(e.apicase.startTime)))])],1)],1)]),a("tr",[a("td",[a("el-row",{attrs:{gutter:1}},[a("el-col",{attrs:{span:e.col1}},[e._v("运行时长")]),a("el-col",{attrs:{span:e.col2}},[e._v(e._s(e.apicase.spendTime)+"s")])],1)],1)])])])]),a("div",[a("div",{staticClass:"result_table_title"},[e._v("接口信息")]),a("el-table",{ref:"table",attrs:{data:e.apiInfo,border:"",size:"small"}},[a("el-table-column",{attrs:{type:"expand"}},[[a("ApiDetail",{attrs:{caseresult:e.apicase}})]],2),a("el-table-column",{attrs:{label:"#",align:"center",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index))]}}])}),a("el-table-column",{attrs:{label:"接口名称",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.apiName))]}}])}),a("el-table-column",{attrs:{label:"请求方法",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.apiMethod))]}}])}),a("el-table-column",{attrs:{label:"接口路径",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.apiPath))]}}])}),a("el-table-column",{attrs:{label:"结果",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.toogleExpand(t.row)}}},[e._v("查看")])]}}])})],1)],1)])},l=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"请求信息",name:"1"}},[a("el-tabs",{model:{value:e.activeName1,callback:function(t){e.activeName1=t},expression:"activeName1"}},[a("el-tab-pane",{attrs:{label:"请求体",name:"requestBody"}},[a("JsonViewer",{attrs:{value:e.requestBody,"expand-depth":2,copyable:""}})],1),a("el-tab-pane",{attrs:{label:"请求头",name:"requestHeader"}},[a("JsonViewer",{attrs:{value:e.requestHeader,"expand-depth":2,copyable:""}})],1)],1)],1)],1),a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"响应信息",name:"2"}},[a("el-tabs",{model:{value:e.activeName2,callback:function(t){e.activeName2=t},expression:"activeName2"}},[a("el-tab-pane",{attrs:{label:"响应体",name:"responseBody"}},[a("JsonViewer",{attrs:{value:e.responseBody,"expand-depth":2,copyable:""}})],1),a("el-tab-pane",{attrs:{label:"响应头",name:"responseHeader"}},[a("JsonViewer",{attrs:{value:e.responseHeader,"expand-depth":2,copyable:""}})],1)],1)],1)],1)],1)},n=[],r=a("349e"),o=a.n(r),c={name:"apidetail",components:{JsonViewer:o.a},props:{caseresult:{type:Object,required:!0}},data:function(){return{activeName1:"requestBody",activeName2:"responseBody",requestParams:null,requestHeader:null,requestBody:null,responseBody:null,responseHeader:null,activeNames:["1"]}},created:function(){this.checkData()},methods:{checkData:function(){var e=this.caseresult;try{this.requestParams=JSON.parse(e.requestParams)}catch(t){this.requestParams=e.requestParams}try{this.requestHeader=JSON.parse(e.requestHeader)}catch(a){this.requestHeader=e.requestHeader}try{this.requestBody=JSON.parse(e.requestBody)}catch(i){this.requestBody=e.requestBody}try{this.responseBody=JSON.parse(e.responseBody)}catch(l){this.responseBody=e.responseBody}try{this.responseHeader=JSON.parse(e.responseHeader)}catch(s){this.responseHeader=e.responseHeader}console.log(this.responseBody),console.log(this.responseHeader),console.log(this.requestBody)}}},u=c,p=a("2877"),d=Object(p["a"])(u,s,n,!1,null,"f3972726",null),f=d.exports,m={name:"Index",components:{ApiDetail:f},props:{apicase:{type:Object,required:!0}},data:function(){return{col1:11,col2:13,apiInfo:[this.apicase.case.apiInfo],caseresult:null}},methods:{tableCellStyle:function(){return"border-color: #868686; border-bottom: 1px solid #868686; border-right: 1px solid #868686;"},tableHeaderCellStyle:function(){return"border-color: #868686; color: #606266;"},toogleExpand:function(e){this.$refs.table.toggleRowExpansion(e),this.$refs.table.toggleRowSelection(e);try{this.caseresult=JSON.parse(this.apicase.responseBody)}catch(t){this.caseresult=this.apicase.responseBody}}}},h=m,b=(a("d8c1"),Object(p["a"])(h,i,l,!1,null,"38f0b441",null));t["a"]=b.exports},7087:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-container"},[a("el-form",{ref:"apirequest",attrs:{model:e.apirequest,rules:e.apiinforule}},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:e.span1}},[a("el-form-item",{attrs:{label:"接口名称",prop:"apiName"}},[a("el-input",{model:{value:e.apirequest.apiName,callback:function(t){e.$set(e.apirequest,"apiName",t)},expression:"apirequest.apiName"}})],1)],1),a("el-col",{attrs:{span:e.span1}},[a("el-form-item",{attrs:{label:"所属项目"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.project.projectName,callback:function(t){e.$set(e.project,"projectName",t)},expression:"project.projectName"}})],1)],1)],1),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:e.span1}},[a("el-form-item",{attrs:{label:"Host"}},[a("el-input",{model:{value:e.apirequest.apiHost,callback:function(t){e.$set(e.apirequest,"apiHost",t)},expression:"apirequest.apiHost"}},[a("el-select",{staticClass:"method-select",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.apirequest.apiMethod,callback:function(t){e.$set(e.apirequest,"apiMethod",t)},expression:"apirequest.apiMethod"}},e._l(e.requestMethod,(function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})})),1)],1)],1)],1),a("el-col",{attrs:{span:e.span1}},[a("el-form-item",{attrs:{label:"接口路径"}},[a("el-input",{model:{value:e.apirequest.apiPath,callback:function(t){e.$set(e.apirequest,"apiPath",t)},expression:"apirequest.apiPath"}})],1)],1)],1),a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:e.span2}},[a("el-tabs",{staticClass:"tags-title",attrs:{value:"1"}},[a("el-tab-pane",{attrs:{label:"Params",name:"1"}},[a("Comoninput",{attrs:{listdata:e.apirequest.apiParams}})],1),a("el-tab-pane",{attrs:{label:"Headers",name:"2"}},[a("Comoninput",{attrs:{listdata:e.apirequest.apiHeaders}})],1),"GET"!==e.apirequest.apiMethod?a("el-tab-pane",{attrs:{label:"Body",name:"3"}},[a("Comoninput",{attrs:{listdata:e.apirequest.apiBody,assert:"body"}})],1):e._e(),a("el-tab-pane",{attrs:{label:"断言",name:"4"}},[a("Comoninput",{attrs:{listdata:e.apirequest.apiAssert,assert:"assert"}})],1)],1)],1)],1),null!==e.apiresponse?a("el-row",{staticStyle:{"margin-top":"20px"}},[a("span",{staticStyle:{color:"#606266","font-weight":"bold"}},[e._v("Response")]),a("JsonViewer",{attrs:{value:e.apiresponse,"expand-depth":20,copyable:""}})],1):e._e(),a("div",{staticClass:"button-form"},[a("el-row",{attrs:{gutter:e.gutter}},[a("el-col",{attrs:{span:e.span2}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){"created"===e.dialogtitle?e.createdProject():e.updatedProject()}}},[e._v("提交")]),a("el-button",{attrs:{type:"success"},on:{click:e.runApiInfo}},[e._v("测试")])],1)],1)],1)],1)],1)],1)},l=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["assert"===e.assert?a("div",{staticClass:"assert"},[a("el-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[a("el-radio",{attrs:{label:101}},[e._v("文本")]),a("el-radio",{attrs:{label:102}},[e._v("正则")]),a("el-radio",{attrs:{label:103}},[e._v("json")])],1),103===e.radio?a("el-table",{attrs:{data:e.keydata}},[a("el-table-column",{attrs:{label:"zzz"}},[[e._v(" "+e._s(e.radio)+" ")]],2)],1):a("el-input")],1):a("el-table",{attrs:{data:e.listdata,size:"mini"},model:{value:e.listdata,callback:function(t){e.listdata=t},expression:"listdata"}},[a("el-table-column",{attrs:{label:"#",width:"40px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index)+" ")]}}])}),"body"===e.assert?a("el-table-column",{attrs:{label:"TYPE",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}},e._l(e.bodylist,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}],null,!1,720149912)}):e._e(),a("el-table-column",{attrs:{label:"KEY",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"table-input",attrs:{value:t.row.key},model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}})]}}])}),a("el-table-column",{attrs:{label:"VALUE",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"table-input-url",attrs:{value:t.row.value},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])}),a("el-table-column",{attrs:{label:"DESC",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"table-input-url",attrs:{value:t.row.desc},model:{value:t.row.desc,callback:function(a){e.$set(t.row,"desc",a)},expression:"scope.row.desc"}})]}}])}),a("el-table-column",{attrs:{label:"",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index===e.listdata.length-1?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(t){return e.addline(e.listdata)}}}):e._e(),1!==e.listdata.length?a("el-button",{attrs:{type:"danger",size:"mini",circle:"",icon:"el-icon-minus"},on:{click:function(a){return e.deleteline(t.$index,e.listdata)}}}):e._e()]}}])})],1)],1)},n=[],r=(a("a434"),{name:"comoninput",props:{listdata:{type:Array,required:!0},assert:{type:String,required:!1}},data:function(){return{list:[{type:101,key:"",value:"",desc:""}],radio:this.listdata[0].type,headerskey:{},assertlist:this.allEnums.asserttype,bodylist:this.allEnums.bodytype,keydata:null}},created:function(){this.setKey()},methods:{addline:function(e){e.push({key:"",value:"",desc:""})},deleteline:function(e,t){t.splice(e,1)},setKey:function(){"assert"===this.assert&&(this.keydata=[{key:"",value:"",desc:""}])}}}),o=r,c=(a("735d"),a("2877")),u=Object(c["a"])(o,s,n,!1,null,"53786206",null),p=u.exports,d=a("349e"),f=a.n(d),m=a("811c"),h=a("5f87"),b=a("24d2"),v={name:"apiadd",components:{Comoninput:p,JsonViewer:f.a},inject:["reload"],props:{apirequest:{type:Object,require:!0},dialogtitle:{type:String,required:!0}},data:function(){return{gutter:12,span1:12,span2:24,listQuery:{id:Object(h["a"])()},project:{projectName:"",projectUrl:""},apiresponse:null,apiinforule:{apiName:[{required:!0,message:"请输入接口名称",trigger:"blur"}]},requestMethod:{GET:"GET",POST:"POST",PUT:"PUT",PATCH:"PATCH",DELETE:"DELETE",HEAD:"HEAD",OPTIONS:"OPTIONS"},apiId:void 0}},created:function(){this.fetchData(),this.changeType()},methods:{commit:function(){console.log(this.apirequest)},fetchData:function(){var e=this;this.listLoading=!0,Object(b["c"])(this.listQuery).then((function(t){e.listLoading=!1,e.project=t.data.results[0],e.apirequest.apiHost=t.data.results[0].projectUrl}))},createdProject:function(){var e=this;this.$refs.apirequest.validate((function(t){t&&Object(m["a"])(e.apirequest).then((function(t){e.apiId=t.data.id,location.reload(),e.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3})}))}))},updatedProject:function(){var e=this;this.$refs.apirequest.validate((function(t){if(t){var a=Object.assign({},e.apirequest);Object(m["g"])(a.id,a).then((function(t){location.reload(),e.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3})}))}}))},runApiInfo:function(){var e=this;"created"!==this.dialogtitle&&Object(m["g"])(this.apirequest.id,this.apirequest).then((function(e){})),Object(m["e"])(this.apirequest).then((function(t){try{var a=JSON.parse(t.data);e.apiresponse=a}catch(i){e.apiresponse=t.data}e.$notify({title:"成功",message:"请求成功",type:"success",duration:2e3})}))},changeType:function(){null===this.apirequest.apiHeaders&&(this.apirequest.apiHeaders=[{type:101,key:"",value:"",desc:""}]),null===this.apirequest.apiParams&&(this.apirequest.apiParams=[{type:101,key:"",value:"",desc:""}]),null!==this.apirequest.apiBody&&0!==this.apirequest.apiBody.length||(this.apirequest.apiBody=[{type:101,key:"",value:"",desc:""}]),null!==this.apirequest.apiAssert&&0!==this.apirequest.apiAssert.length||(this.apirequest.apiAssert=[{type:101,key:[],value:"",desc:""}]),console.log(this.apirequest)}}},y=v,g=(a("87d7"),Object(c["a"])(y,i,l,!1,null,"1cbb1b43",null));t["a"]=g.exports},"735d":function(e,t,a){"use strict";var i=a("a84e"),l=a.n(i);l.a},"79d5":function(e,t,a){"use strict";var i=a("bc49"),l=a.n(i);l.a},"87d7":function(e,t,a){"use strict";var i=a("bf0c"),l=a.n(i);l.a},9585:function(e,t,a){},a7a5:function(e,t,a){},a84e:function(e,t,a){},aa89:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"project-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{model:e.listQuery,size:"small","label-position":"left",inline:"true"}},[a("el-row",{attrs:{gutter:1}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"接口名称",prop:"apiName"}},[a("el-input",{staticClass:"filter-input",attrs:{size:"small"},model:{value:e.listQuery.apiNames,callback:function(t){e.$set(e.listQuery,"apiNames",t)},expression:"listQuery.apiNames"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"接口地址",prop:"apiPath"}},[a("el-input",{staticClass:"filter-input",attrs:{size:"small"},model:{value:e.listQuery.apiPaths,callback:function(t){e.$set(e.listQuery,"apiPaths",t)},expression:"listQuery.apiPaths"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"请求方法",prop:"apiMethod"}},[a("el-select",{staticClass:"filter-input",attrs:{size:"small"},model:{value:e.listQuery.apiMethods,callback:function(t){e.$set(e.listQuery,"apiMethods",t)},expression:"listQuery.apiMethods"}},e._l(e.Methods,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.fetchData}},[e._v("查询")]),a("el-button",{attrs:{size:"small"},on:{click:e.resetListQuery}},[e._v("重置")])],1)],1)],1)],1)],1),a("div",{staticClass:"operation-container"},[a("router-link",{staticStyle:{"padding-right":"20px"},attrs:{to:{name:"Create"}}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"}},[e._v("新增")])],1),a("el-button",{attrs:{type:"success",icon:"el-icon-plus",size:"small"},on:{click:e.handleImport}},[e._v("导入")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,stripe:"",size:"small"},on:{"row-click":e.apiDetail}},[a("el-table-column",{attrs:{align:"center",label:"#",width:"65px  ",index:e.indexMethod,type:"index"}}),a("el-table-column",{attrs:{label:"接口名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.apiName))]}}])}),a("el-table-column",{attrs:{label:"请求方式",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e._f("formatStatus")(t.row.apiMethod),effect:"plain"}},[e._v(e._s(t.row.apiMethod))])]}}])}),a("el-table-column",{attrs:{label:"接口地址",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.apiPath))]}}])}),a("el-table-column",{attrs:{label:"更新时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.updatedTime)))]}}])})],1),a("el-dialog",{attrs:{title:"导入接口",visible:e.dialogvisibleImport,width:"800px"},on:{"update:visible":function(t){e.dialogvisibleImport=t}}},[a("el-form",{ref:"apiImport",attrs:{model:e.apiImport,rules:e.apiImportRule,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"接口文档地址",prop:"url"}},[a("el-input",{staticStyle:{width:"80%"},model:{value:e.apiImport.url,callback:function(t){e.$set(e.apiImport,"url",t)},expression:"apiImport.url"}})],1),a("el-form-item",{attrs:{label:"所属项目",prop:"project"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{disabled:""},model:{value:e.apiImport.project,callback:function(t){e.$set(e.apiImport,"project",t)},expression:"apiImport.project"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.importApiInfo}},[e._v("提交")]),a("el-button",{on:{click:e.hanlecancel}},[e._v("取消")])],1)],1)],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, total",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)},l=[],s=a("811c"),n=a("5f87"),r={name:"project",inject:["reload"],filters:{formatStatus:function(e){var t={GET:null,POST:"success",PATCH:"info",PUT:"warning",DELETE:"danger"};return t[e]}},data:function(){return{list:null,listLoading:!0,total:0,listQuery:{page:1,size:10,apiNames:null,apiPath:null,apiMethod:null},Methods:this.allEnums.requestMethod,dialogvisibleImport:!1,apiImport:{url:"",project:Object(n["b"])()},apiImportRule:{url:[{required:!0,message:"请输入接口文档地址",trigger:"blur"}]}}},created:function(){this.fetchData()},mounted:function(){},methods:{fetchData:function(){var e=this;this.listLoading=!0,Object(s["d"])(this.listQuery).then((function(t){e.list=t.data.results,e.total=t.data.count,e.listLoading=!1}))},resetapiImport:function(){this.apiImport={url:"",project:Object(n["b"])()}},handleImport:function(){var e=this;this.resetapiImport(),this.dialogvisibleImport=!0,this.$nextTick((function(){e.$refs.apiImport.clearValidate()}))},handleCurrentChange:function(e){this.listQuery.page=e,this.fetchData()},indexMethod:function(e){return(this.listQuery.page-1)*this.listQuery.size+(e+1)},apiDetail:function(e){this.$router.push({name:"Detail",query:{id:e.id}})},importApiInfo:function(){var e=this;this.$refs.apiImport.validate((function(t){t&&Object(s["c"])(e.apiImport).then((function(t){e.dialogvisibleImport=!1,e.$notify({title:"成功",message:"导入成功",type:"success",duration:2e3})}))}))},hanlecancel:function(){this.resetapiImport(),this.dialogvisibleImport=!1},resetListQuery:function(){this.listQuery={page:1,size:10,apiNames:null,apiPaths:null,apiMethods:null},this.fetchData()}}},o=r,c=(a("79d5"),a("2877")),u=Object(c["a"])(o,i,l,!1,null,"5c85e47f",null);t["default"]=u.exports},b733:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,stripe:"",size:"small"}},[a("el-table-column",{attrs:{align:"center",label:"#",width:"65px  ",index:e.indexMethod,type:"index"}}),a("el-table-column",{attrs:{label:"用例名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.case.caseName))]}}])}),a("el-table-column",{attrs:{label:"接口名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.case.apiInfo.apiName))]}}])}),a("el-table-column",{attrs:{label:"耗时/s",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.spendTime))]}}])}),a("el-table-column",{attrs:{label:"开始时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.startTime)))]}}])}),a("el-table-column",{attrs:{label:"更新时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.updatedTime)))]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"250px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleView(i)}}},[e._v("查看")]),a("el-button",{staticStyle:{color:"#f95359"},attrs:{type:"text"},on:{click:function(t){return e.deleteProject(i)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, total",total:e.total},on:{"current-change":e.handleCurrentChange}}),a("el-dialog",{staticClass:"create-case-dialog",attrs:{title:"测试报告",visible:e.dialogvisibleReport,width:"1000px"},on:{"update:visible":function(t){e.dialogvisibleReport=t},close:e.handleClose}},[a("SimpleCase",{attrs:{apicase:e.recordCase}})],1)],1)},l=[],s=a("d4f4"),n=a("6c21"),r={name:"simplecaserecord",components:{SimpleCase:n["a"]},filters:{formatStatus:function(e){var t={101:"unexecuted",102:"pass",103:"fail",104:"errpr"};return t[e]}},data:function(){return{list:null,listLoading:!0,total:0,listQuery:{page:1,size:10,case_id:this.$route.query.id},recordCase:null,dialogvisibleReport:!1}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,Object(s["j"])(this.listQuery).then((function(t){e.list=t.data.results,e.total=t.data.count,e.listLoading=!1}))},deleteProject:function(e){var t=this;this.$confirm("确定要删除该数据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(a){Object(s["h"])(e.id).then((function(e){t.fetchData(),t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3})}))})).catch((function(e){}))},handleClose:function(){this.recordCase={}},handleView:function(e){this.recordCase={},this.recordCase=Object.assign({},e),this.dialogvisibleReport=!0,console.log(this.recordCase)},handleCurrentChange:function(e){this.listQuery.page=e,this.fetchData()},indexMethod:function(e){return(this.listQuery.page-1)*this.listQuery.size+(e+1)}}},o=r,c=a("2877"),u=Object(c["a"])(o,i,l,!1,null,"d3982f96",null);t["default"]=u.exports},bc49:function(e,t,a){},bf0c:function(e,t,a){},c013:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{"label-position":"top",size:"small",model:e.caseSetData}},[a("el-form-item",{attrs:{label:"用例集名称"}},[a("el-input",{model:{value:e.caseSetData.caseName,callback:function(t){e.$set(e.caseSetData,"caseName",t)},expression:"caseSetData.caseName"}})],1),a("el-form-item",{attrs:{label:"全局请求头设置"}},[a("el-switch",{staticStyle:{"margin-bottom":"10px"},on:{change:e.getVariableList},model:{value:e.caseSetData.isAllHeaders,callback:function(t){e.$set(e.caseSetData,"isAllHeaders",t)},expression:"caseSetData.isAllHeaders"}}),e.caseSetData.isAllHeaders?a("el-table",{attrs:{data:e.caseSetData.globleHeader,border:""}},[a("el-table-column",{attrs:{label:"#",type:"index",align:"center"}}),a("el-table-column",{attrs:{label:"变量名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","allow-create":""},on:{blur:function(a){return e.searchBlur(t.row,a)}},model:{value:t.row.param,callback:function(a){e.$set(t.row,"param",a)},expression:"scope.row.param"}},e._l(e.headerSelect,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.value}})})),1)]}}],null,!1,1408610303)}),a("el-table-column",{attrs:{label:"变量值",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","allow-create":""},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}},e._l(e.variablilist,(function(e){return a("el-option",{key:e.id,attrs:{value:e.variableName,label:e.variableName}})})),1)]}}],null,!1,1738357035)}),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index===e.caseSetData.globleHeader.length-1?a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.addline(e.caseSetData.globleHeader)}}},[e._v("新增")]):e._e(),1!==e.caseSetData.globleHeader.length?a("el-button",{staticStyle:{color:"#f95359"},attrs:{type:"text"},on:{click:function(a){return e.deleteline(t.$index,e.caseSetData.globleHeader)}}},[e._v("删除")]):e._e()]}}],null,!1,1611227605)})],1):e._e()],1)],1)},l=[],s=(a("a434"),a("e526")),n={name:"create",props:{},data:function(){return{headerSelect:this.allEnums.requestHeader,variablilist:null,caseSetData:{id:void 0,caseName:null,isAllHeaders:!0,globleHeader:[{param:null,desc:null,type:"String",value:null}]}}},created:function(){this.getVariableList()},methods:{searchBlur:function(e,t){e.param=t.target.value},addline:function(e){e.push({param:null,desc:null,type:"String",value:null})},deleteline:function(e,t){t.splice(e,1)},getVariableList:function(e){var t=this;this.caseSetData.isAllHeaders&&Object(s["a"])({page:1,size:2147483647}).then((function(e){t.variablilist=e.data.results}))}}},r=n,o=a("2877"),c=Object(o["a"])(r,i,l,!1,null,"cf880816",null);t["default"]=c.exports},d85b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"operation-container"},[a("router-link",{attrs:{to:{name:"ProcessCreate"}}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"}},[e._v("新增")])],1)],1)])},l=[],s={name:"index",data:function(){return{}}},n=s,r=a("2877"),o=Object(r["a"])(n,i,l,!1,null,"15933364",null);t["default"]=o.exports},d8c1:function(e,t,a){"use strict";var i=a("f9da"),l=a.n(i);l.a},df4e:function(e,t,a){"use strict";var i=a("6963"),l=a.n(i);l.a},f9da:function(e,t,a){}}]);